<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survei Kepuasan Pasien | UPTD Puskesmas Kademangan</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
    
<body>
    <form id="form">
        <h1>Survei Kepuasan Pasien</h1>
        <div class="form-element">
            <span>Nama</span>
            <input type="text" name=Nama" required placeholder="Nama">
        </div>

        <div class="emoji-selector">
            <input id="tdkpuas" type="radio" name="Kepuasan Pasien" value="Tidak Puas" />
            <label class="drinkemoji-cc tdkpuas" for="tdkpuas"></label>
            <input id="puas" type="radio" name="Kepuasan Pasien" value="Puas" checked />
            <label class="drinkemoji-cc puas"for="puas"></label>

        </div>
        
        <div class="form-element">
            <span>Kritik</span>
            <input type="text" name="Kritik" required placeholder="Kritik">
        </div>

        <div class="form-element">
            <span>Saran</span>
            <input type="text" name="Saran" required placeholder="Saran">
        </div>

        <button type="submit" id="submitButton">Submit</button>
    </form>
</body>
    
<script>
   const form = document.querySelector("#form")
   const submitButton = document.querySelector("#submit")
   const scriptURL = 'https://script.google.com/macros/s/AKfycbxSWzDQpF1d0nY3auqMbgC-OnXpIBJb0V7PHwIk8njUVRJTR0qg75mZlls3uIkOq7Lp/exec'

   form.addEventListener('submit', e => {
     submitButton.disabled = true
     e.preventDefault()
     let requestBody = new FormData(form)
     fetch(scriptURL, { method: 'POST', body: requestBody})
       .then(response => {
          alert('Success!', response)
          submitButton.disabled = false
         })
       .catch(error => {
       alert('Error!', error.message)
         submitButton.disabled = false

       }
       )
   })
</script>
</html>
